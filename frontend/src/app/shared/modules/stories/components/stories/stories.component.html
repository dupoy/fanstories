<div *ngIf="stories$ | async as stories">
  <div class="card mb-4" *ngFor="let story of stories.stories">
    <div class="card-body">
      <h5 class="card-title mb-0 d-flex justify-content-between">
        <div>
          <p class="info mb-1">{{ story.title }}</p>
          <p class="info fs-5">
            <span
              class="badge bg-light border border-secondary text-secondary me-2"
              >{{ story.focus.value }}</span
            >
            <span
              class="badge bg-light border border-secondary text-secondary me-2"
              >{{ story.rating.value }}</span
            >
            <span
              class="badge bg-light border border-secondary text-secondary me-2"
              >{{ story.status }}</span
            >
            <span
              class="badge bg-light border border-secondary text-secondary me-2"
              ><i class="bi bi-bookmark"></i> {{ story.favoriteCount }}</span
            >
            <span
              class="badge bg-light border border-secondary text-secondary me-2"
              ><i class="bi bi-bell"></i> {{ story.followCount }}</span
            >
          </p>
        </div>
        <div class="d-flex flex-column me-1">
          <a class="text-decotation-none mb-2"
            ><i
              class="bi"
              [ngClass]="
                story.favorite
                  ? 'text-danger bi-bookmark-x'
                  : 'text-success bi-bookmark-plus'
              "
            ></i
          ></a>
          <a class="text-decotation-none"
            ><i
              class="bi bi-bell"
              [ngClass]="
                story.follow
                  ? 'text-danger bi-bell-slash'
                  : 'text-success bi-bell'
              "
            ></i
          ></a>
        </div>
      </h5>
      <p class="info">
        Author:
        <span class="badge bg-secondary me-1">{{ story.author.username }}</span>
      </p>
      <p class="info">
        Fandoms:
        <span
          class="badge bg-secondary me-1"
          *ngFor="let fandom of story.fandoms"
          >{{ fandom.title }}</span
        >
      </p>
      <p class="info">
        Characters:
        <span
          class="badge bg-secondary me-1"
          *ngFor="let character of story.characters"
          >{{ character }}</span
        >
      </p>
      <p class="info">
        Pairings:
        <span
          class="badge bg-secondary me-1"
          *ngFor="let pairing of story.pairings"
          >{{ pairing }}</span
        >
      </p>
      <p class="info">
        Tags:
        <span class="badge bg-secondary me-1" *ngFor="let tag of story.tags">{{
          tag.title
        }}</span>
      </p>
      <p class="info">
        Size: {{ story.words }} words or {{ story.pages }} pages
      </p>
      <pre>{{ story.chapters }}</pre>
      <hr />
      <p class="card-text">{{ story.description }}</p>
    </div>
  </div>
</div>
